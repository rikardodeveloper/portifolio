/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import { readFileAsDataURL } from '@webacad/observable-file-reader';
/** @type {?} */
const imageMimeTypes = [
    'image/gif', 'image/png', 'image/jpeg',
];
export class UploadFile {
    /**
     * @param {?} file
     * @param {?=} _progress
     */
    constructor(file, _progress = 0) {
        this.file = file;
        this._progress = _progress;
        this.icon = 'cloud_upload';
    }
    /**
     * @return {?}
     */
    get progress() {
        return this._progress;
    }
    /**
     * @param {?} progress
     * @return {?}
     */
    set progress(progress) {
        this._progress = progress;
    }
    /**
     * @return {?}
     */
    supportsImagePreview() {
        return imageMimeTypes.indexOf(this.file.type) >= 0;
    }
    /**
     * @return {?}
     */
    getImageSource() {
        if (typeof this.imageSource !== 'undefined') {
            return this.imageSource;
        }
        return this.imageSource = readFileAsDataURL(this.file);
    }
    /**
     * @param {?} add
     * @return {?}
     */
    increaseProgress(add) {
        this.progress += add;
    }
}
if (false) {
    /** @type {?} */
    UploadFile.prototype.icon;
    /** @type {?} */
    UploadFile.prototype.imageSource;
    /** @type {?} */
    UploadFile.prototype.file;
    /** @type {?} */
    UploadFile.prototype._progress;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBsb2FkLWZpbGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ad2ViYWNhZC9uZy1tYXQtZmlsZS11cGxvYWQvIiwic291cmNlcyI6WyJ1cGxvYWQtZmlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFDLGlCQUFpQixFQUFDLE1BQU0saUNBQWlDLENBQUM7O0FBSWxFLE1BQU0sY0FBYyxHQUFrQjtJQUNyQyxXQUFXLEVBQUUsV0FBVyxFQUFFLFlBQVk7Q0FDdEMsQ0FBQztBQUdGLE1BQU07Ozs7O0lBU0wsWUFDaUIsTUFDUixZQUFvQixDQUFDO1FBRGIsU0FBSSxHQUFKLElBQUk7UUFDWixjQUFTLEdBQVQsU0FBUztvQkFQSSxjQUFjO0tBUWhDOzs7O0lBR0osSUFBSSxRQUFRO1FBRVgsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0tBQ3RCOzs7OztJQUVELElBQUksUUFBUSxDQUFDLFFBQWdCO1FBRTVCLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO0tBQzFCOzs7O0lBR00sb0JBQW9CO1FBRTFCLE9BQU8sY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7Ozs7SUFJN0MsY0FBYztRQUVwQixJQUFJLE9BQU8sSUFBSSxDQUFDLFdBQVcsS0FBSyxXQUFXLEVBQUU7WUFDNUMsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO1NBQ3hCO1FBRUQsT0FBTyxJQUFJLENBQUMsV0FBVyxHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7Ozs7O0lBSWpELGdCQUFnQixDQUFDLEdBQVc7UUFFbEMsSUFBSSxDQUFDLFFBQVEsSUFBSSxHQUFHLENBQUM7O0NBR3RCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtyZWFkRmlsZUFzRGF0YVVSTH0gZnJvbSAnQHdlYmFjYWQvb2JzZXJ2YWJsZS1maWxlLXJlYWRlcic7XG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuXG5cbmNvbnN0IGltYWdlTWltZVR5cGVzOiBBcnJheTxzdHJpbmc+ID0gW1xuXHQnaW1hZ2UvZ2lmJywgJ2ltYWdlL3BuZycsICdpbWFnZS9qcGVnJyxcbl07XG5cblxuZXhwb3J0IGNsYXNzIFVwbG9hZEZpbGVcbntcblxuXG5cdHB1YmxpYyBpY29uOiBzdHJpbmcgPSAnY2xvdWRfdXBsb2FkJztcblxuXHRwcml2YXRlIGltYWdlU291cmNlOiBPYnNlcnZhYmxlPHN0cmluZz58dW5kZWZpbmVkO1xuXG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHVibGljIHJlYWRvbmx5IGZpbGU6IEZpbGUsXG5cdFx0cHJpdmF0ZSBfcHJvZ3Jlc3M6IG51bWJlciA9IDAsXG5cdCkge31cblxuXG5cdGdldCBwcm9ncmVzcygpOiBudW1iZXJcblx0e1xuXHRcdHJldHVybiB0aGlzLl9wcm9ncmVzcztcblx0fVxuXG5cdHNldCBwcm9ncmVzcyhwcm9ncmVzczogbnVtYmVyKVxuXHR7XG5cdFx0dGhpcy5fcHJvZ3Jlc3MgPSBwcm9ncmVzcztcblx0fVxuXG5cblx0cHVibGljIHN1cHBvcnRzSW1hZ2VQcmV2aWV3KCk6IGJvb2xlYW5cblx0e1xuXHRcdHJldHVybiBpbWFnZU1pbWVUeXBlcy5pbmRleE9mKHRoaXMuZmlsZS50eXBlKSA+PSAwO1xuXHR9XG5cblxuXHRwdWJsaWMgZ2V0SW1hZ2VTb3VyY2UoKTogT2JzZXJ2YWJsZTxzdHJpbmc+XG5cdHtcblx0XHRpZiAodHlwZW9mIHRoaXMuaW1hZ2VTb3VyY2UgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5pbWFnZVNvdXJjZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pbWFnZVNvdXJjZSA9IHJlYWRGaWxlQXNEYXRhVVJMKHRoaXMuZmlsZSk7XG5cdH1cblxuXG5cdHB1YmxpYyBpbmNyZWFzZVByb2dyZXNzKGFkZDogbnVtYmVyKTogdm9pZFxuXHR7XG5cdFx0dGhpcy5wcm9ncmVzcyArPSBhZGQ7XG5cdH1cblxufVxuIl19